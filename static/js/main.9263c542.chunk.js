(this.webpackJsonptimetrack=this.webpackJsonptimetrack||[]).push([[0],{14:function(e,t,a){e.exports={EntryForm:"EntryForm_EntryForm__sUeHk",resetButton:"EntryForm_resetButton__3FDzF",recordedTime:"EntryForm_recordedTime__34jTL",taskName:"EntryForm_taskName__3jcaW",startButton:"EntryForm_startButton__30pG8"}},15:function(e,t,a){e.exports={TimeRow:"TimeRow_TimeRow__1SQse",duration:"TimeRow_duration__31OMX",recordedTime:"TimeRow_recordedTime__1pRB1",deleteButton:"TimeRow_deleteButton__eSBxw"}},17:function(e,t,a){e.exports={TaskList:"TaskList_TaskList__1PUZ7",emptyState:"TaskList_emptyState__Oahdd",hidden:"TaskList_hidden__1K5Uq"}},21:function(e,t,a){e.exports={App:"App_App__2mBMi",taskBody:"App_taskBody__2_ikx"}},24:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),o=a(13),s=a(10),c=a(2),m=a(3),d=a(5),u=a(4),l=a(6),p=a(7),T=function(e,t){return{type:"PUT_TIME",recordedTime:e,taskName:t}},h=a(1),k=a(14),f=a.n(k),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={editMode:!1,recordedTime:"",taskName:""},a.state.recordedTime=a.props.currentTime.format("h:mm a"),a.enterEditMode=a.enterEditMode.bind(Object(h.a)(a)),a.handleChangeTime=a.handleChangeTime.bind(Object(h.a)(a)),a.recordTimeEntry=a.recordTimeEntry.bind(Object(h.a)(a)),a.resetForm=a.resetForm.bind(Object(h.a)(a)),a.updateTime=a.updateTime.bind(Object(h.a)(a)),a.updateTaskName=a.updateTaskName.bind(Object(h.a)(a)),a.timeEntryRef=n.a.createRef(),a}return Object(l.a)(t,e),Object(m.a)(t,[{key:"enterEditMode",value:function(){this.setState({editMode:!0,recordedTime:this.props.currentTime.format("h:mm a")})}},{key:"formatRecordedTime",value:function(e){var t=(e=e.trim().toLowerCase()).match(/(\d+):(\d+)\s*(am|pm)?/);return null===t?null:(void 0!==t[3]&&("12"===t[1]&&(t[1]="0"),"pm"===t[3]&&(t[1]=(parseInt(t[1],10)+12).toString())),e=t[1].padStart(2,"0")+":"+t[2].padStart(2,"0"))}},{key:"handleChangeTime",value:function(e){this.setState({recordedTime:e.target.value})}},{key:"updateTime",value:function(e){this.setState({recordedTime:e})}},{key:"updateTaskName",value:function(e){this.setState({taskName:e.target.value})}},{key:"recordTimeEntry",value:function(e){e.preventDefault();var t={recordedTime:this.formatRecordedTime(this.state.recordedTime),taskName:this.state.taskName.trim()};0<t.taskName.length&&null!==t.recordedTime&&this.props.recordTimeEntry(t),this.resetForm()}},{key:"resetForm",value:function(){this.setState({editMode:!1,recordedTime:this.props.currentTime.format("h:mm a"),taskName:""})}},{key:"render",value:function(){return n.a.createElement("form",{className:f.a.EntryForm,onSubmit:this.recordTimeEntry},n.a.createElement("div",{className:f.a.resetButton},n.a.createElement("button",{type:"button",onClick:this.resetForm},n.a.createElement("img",{src:this.timeIcon,alt:"Reset"}))),n.a.createElement("div",{className:f.a.recordedTime},n.a.createElement("input",{type:"text",value:this.timeValue,onChange:this.handleChangeTime,onFocus:this.enterEditMode})),n.a.createElement("div",{className:f.a.taskName},n.a.createElement("input",{type:"text",placeholder:"What are you working on?",value:this.state.taskName,onChange:this.updateTaskName})),n.a.createElement("div",{className:f.a.startButton},n.a.createElement("button",{type:"submit"},"Start")))}},{key:"timeIcon",get:function(){return this.state.editMode?"img/md-close-circle-outline.svg":"img/md-time.svg"}},{key:"timeValue",get:function(){return this.state.editMode?this.state.recordedTime:this.props.currentTime.format("h:mm a")}}]),t}(r.Component),E=Object(s.b)((function(e,t){return{currentTime:e.currentTime}}),(function(e,t){return{recordTimeEntry:function(t){return e(T(t.recordedTime,t.taskName))}}}))(b),_=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=parseInt(this.props.duration,10),t=Math.floor(e/60).toString();return t+":"+(e-60*t).toString().padStart(2,"0")}}]),t}(r.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return p("2018-01-01 "+this.props.time).format("h:mm a")}}]),t}(r.Component),y=a(15),O=a.n(y),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).deleteTime=a.deleteTime.bind(Object(h.a)(a)),a}return Object(l.a)(t,e),Object(m.a)(t,[{key:"deleteTime",value:function(){this.props.deleteTime(this.props.time)}},{key:"render",value:function(){return n.a.createElement("div",{className:O.a.TimeRow},n.a.createElement("div",{className:O.a.duration},n.a.createElement(_,{duration:this.props.time.duration})),n.a.createElement("div",{className:O.a.recordedTime},n.a.createElement(v,{time:this.props.time.recordedTime})),n.a.createElement("div",{className:O.a.deleteButton},n.a.createElement("button",{type:"button",onClick:this.deleteTime},"Delete")))}}]),t}(r.Component),g=a(9),N=a.n(g),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!1},a.continueTask=a.continueTask.bind(Object(h.a)(a)),a.deleteTime=a.deleteTime.bind(Object(h.a)(a)),a.toggleDetails=a.toggleDetails.bind(Object(h.a)(a)),a}return Object(l.a)(t,e),Object(m.a)(t,[{key:"toggleDetails",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"continueTask",value:function(){this.props.continueTask(this.props.task)}},{key:"deleteTime",value:function(e){this.props.deleteTime(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:N.a.TaskRow},n.a.createElement("div",{className:N.a.summary},n.a.createElement("div",{className:N.a.toggleButton},n.a.createElement("button",{type:"button",onClick:this.toggleDetails},n.a.createElement("img",{src:this.arrowIcon,alt:"Toggle"}))),n.a.createElement("div",{className:N.a.duration},n.a.createElement(_,{duration:this.props.task.duration})),n.a.createElement("div",{className:N.a.taskName},this.props.task.taskName),n.a.createElement("div",{className:N.a.continueButton},n.a.createElement("button",{type:"button",onClick:this.continueTask},"Continue"))),n.a.createElement("div",{className:this.state.expanded?N.a.details:N.a.hidden},this.props.task.timeEntries.map((function(t,a){return n.a.createElement(j,{key:t.recordedTime,time:t,deleteTime:e.deleteTime})}))))}},{key:"arrowIcon",get:function(){return this.state.expanded?"img/md-arrow-dropdown.svg":"img/md-arrow-dropright.svg"}}]),t}(r.Component),R=Object(s.b)((function(e,t){return{task:t.task}}),(function(e,t){return{continueTask:function(){return e((a=t.task.taskName,T(p().format("HH:mm"),a)));var a},deleteTime:function(t){return e({type:"DELETE_TIME",recordedTime:t.recordedTime})}}}))(w),C=a(17),M=a.n(C),S=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:M.a.TaskList},n.a.createElement("div",{className:0===this.props.tasks.length?M.a.emptyState:M.a.hidden},"There are no tasks recorded."),this.props.tasks.map((function(e,t){return n.a.createElement(R,{key:e.taskName,task:e})})))}}]),t}(r.Component),B=function(e){var t=e.times.reduce((function(e,t){return void 0===e[t.taskName]&&(e[t.taskName]={taskName:t.taskName,recordedTime:t.recordedTime,duration:0,timeEntries:[]}),e[t.taskName].duration+=t.duration,e[t.taskName].timeEntries.push(t),e}),{});return Object.values(t).sort((function(e,t){return t.recordedTime.localeCompare(e.recordedTime)}))},x=Object(s.b)((function(e,t){return{tasks:B(e)}}),(function(e,t){return{}}))(S),I=a(21),F=a.n(I),D=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:F.a.App},n.a.createElement(E,null),n.a.createElement("div",{className:F.a.taskBody},n.a.createElement(x,null)))}}]),t}(r.Component),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_TIME":return t.time;default:return e}},Y=a(12),U=function(e,t){return t.recordedTime.localeCompare(e.recordedTime)},A=function(e,t,a){var r=p().format("YYYY-MM-DD "),n=null;n=void 0===a[t-1]?p().startOf("minute").format("HH:mm"):a[t-1].recordedTime;var i=Math.max(0,parseInt(p(r+n+":00").diff(r+e.recordedTime+":00","minutes"),10));return e.duration===i?e:Object.assign({},e,{duration:i})},H=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PUT_TIME":var r;return r=-1===(e=t.findIndex((function(e){return a.recordedTime===e.recordedTime})))?t:[].concat(Object(Y.a)(t.slice(0,e)),Object(Y.a)(t.slice(e+1))),[].concat(Object(Y.a)(r),[{recordedTime:a.recordedTime,taskName:a.taskName}]).sort(U).map(A);case"DELETE_TIME":return-1===(e=t.findIndex((function(e){return a.recordedTime===e.recordedTime})))?t:[].concat(Object(Y.a)(t.slice(0,e)),Object(Y.a)(t.slice(e+1))).map(A);case"SET_CURRENT_TIME":if(0===t.length)return t;var n=Object.assign({},t[0]);return n.duration=a.time.diff(a.time.format("YYYY-MM-DD ")+n.recordedTime+":00","minutes"),[n].concat(Object(Y.a)(t.slice(1)));default:return t}},P=Object(o.b)({currentTime:L,times:H}),J=Object(o.c)(P),V=60-parseInt(p().format("s"),10),W=function(){J.dispatch({type:"SET_CURRENT_TIME",time:p().startOf("minute")})};W(),setTimeout((function(){W(),setInterval(W,6e4)}),1e3*V),Object(i.render)(n.a.createElement(s.a,{store:J},n.a.createElement(D,null)),document.getElementById("root"))},9:function(e,t,a){e.exports={TaskRow:"TaskRow_TaskRow__2w8y9",summary:"TaskRow_summary__dfiTx",toggleButton:"TaskRow_toggleButton__2dMw-",duration:"TaskRow_duration__3l7LC",taskName:"TaskRow_taskName__jbgSc",continueButton:"TaskRow_continueButton__1CMeY",hidden:"TaskRow_hidden__hmhEP"}}},[[24,1,2]]]);
//# sourceMappingURL=main.9263c542.chunk.js.map